# 💎 이노룰스 교육 1-2회차 {#top}
> created : 2023-09-05
> 
> updated : 2023-09-06
> 
> author : 백민주
##
***
## 🔶 환경설정
#### 1. [설치페이지](http://iegw.innorules.com:31262/demo/index.jsp)
  - 다운로드
  - 세션ID 입력 (23/10/4까지 세션ID 사용가능)
#### 2. 빌더 보는 방식
  - 보기/폴더 > 버전과 리턴 조회
  - 보기/폴더 > 폴더 - 룰 수평 배치
***
## 🔶 기본요소
#### 1. 최상위 폴더 만들기
  - 보기/폴더 > 최상위 폴더 추가 > 폴더 이름 작성 > 확인
#### 2. 하위 폴더 만들기(트리구조 만들기)
  - 최상위 폴더의 우측 마우스 클릭 > 폴더 추가 > 폴더 이름 작성 > 확인
#### 3. 항목 추가
  - 룰 작성/테스트 > 항목 > 추가
  - 항목이름(빌더에서 사용되는 이름) 작성
  - 항목별칭(영어, 프로그램에서 사용되는 이름) 작성
  - 데이터 타입
  - 항목설명(주석)
#### 4. 룰 추가
  - 하위폴더 > 룰 추가
  - 룰이름(빌더에서 사용되는 이름), 룰별칭(영어, 프로그램에서 사용되는 이름), 룰설명(주석) 작성
  - 리턴형식(Row가 하나이면 단일값/다중값) 선택 : 배열 쓸거면 다중값으로 출력, 단일값은 아무것도 없으면 에러지만 다중값은 에러 아님
  - 룰구분(서브룰/메인룰) 선택
  - 리턴항목이름/데이터타입 선택
#### 5. 룰 작성
  - 룰 저장(Ctrl+S)
  - 룰 테스트
  - 룰 실행경로 > 룰 열기
  - **모든 만족 조건 실행(조건이 없는 경우에도 실행되게 + 전 조건 모두 실행될 수 있게)**
  - 배열일 시, 망치 아이콘 > 배열 개수 제한 해제
#### 6. **버전 일자**
  - 룰 좌측 마우스 클릭 > 버전 추가
  - Rule Date에 따라 실행되는 결과가 달라짐
#### 7. 프로그램 상 룰 호출 코드 확인
  - 룰 테스트 > 룰 호출 코드 생성
***
## 🔶 문법
#### 1. 데이터 문자형에 숫자형 항목을 출력하려면 : `[급여금액] + ""` 혹은 `[급여금액].Array + ""`
#### 2. 테스트 > 망치 아이콘 > 참조했던 사용값 이용
#### 3. 오른쪽 하단 마우스 클릭 > 항목 관리 > 배열값 조정 가능
#### 4. 룰 이름은 유니크
#### 5. "" 일괄 붙이기 : 영역선택 > 문자열 변환 > 이중 인용부호 앞/뒤에 붙이기
#### 6. 룰 자체를 가져오는 방법 : `{인사평가}`
#### 7. 룰 자체를 정렬해서 가져오는 방법
  - 방식 1. `{인사평가::평가등급}` `{인사평가::평가점수}` `{인사평가::평가항목}`
  - 방식 2. `{인사평가::평가등급,평가점수,평가항목}`
#### 8. 룰 자체의 참조값을 바꿔서 호출하는 방법
  - 방식 1. `{인사평가등급:[평가점수]=92}`
  - 방식 2. `{인사평가등급::등급:[평가점수]=83}`
#### 9. 문자형을 숫자형으로 바꾸는 방법 : `ToNumber([사원번호]) + 10 + ""`
#### 10. 테스트 데이터 항목 순서 바꾸기 : 행 교환
#### 11. **문법 자동완성 : `Ctrl + Space`**
#### 12. 값 중에 만족되는게 있는지 확인하는 방법 
  - `[사원번호] = ("100101", "100102", "100103")`
  - `[급여항목].array = "야근수당"` : array 중에 만족하는 게 있으면 True, 없으면 False
#### 13. 참조값 : 항목관리 > 항목 > 참조값 클릭하여 관리
***
## 🔶 연산자
#### 1. 숫자 + 숫자 = 산술
#### 2. 문자 + 숫자 = 문자열
#### 3. 다중 + 단일 = 다중 (ex. `[급여금액].array + "원"`)
#### 4. 다중 + 다중 = 다중
  - **같은 위치(순서)에 있는 데이터끼리 연산이 됨, 그래서 각 항목의 길이가 동일 해야함** → `[사원번호].array + [급여항목].array`에서 사원번호, 급여항목 길이가 동일 해야함
#### 5. 크기 비교는 단일과 단일만 가능
***
## 🔶 함수
#### 1. Filter / MFilter
  - Filter : 1건만 필터로 조회(but 0일때 에러가 나지 않음) `"Filter( {평가결과::평가항목,평가점수}, {평가결과::평가등급}, ""B"")"`
  - MFilter : 다중건 조회  `"MFilter( {평가결과::평가항목,평가점수}, {평가결과::평가등급,평가점수}, ""B""|85)"`
#### 2. Sum
  - `"Sum( {평가결과::평가등급}, {평가결과::평가점수})"` : 평가등급을 key로 해서 평가점수를 sum하겠다는 의미임
  - `Sum( [급여금액].array )` : 급여금액들 전부다 sum
#### 3. Sort
  - `Sort({평가결과}, "2A, 3D")` : 평가결과 룰에서 **2번째 항목(평가등급)을 기준으로 오름차순, 3번째 항목(평가점수)를 기준으로 내림차순**
  - `Sort({평가결과::평가항목, 평가등급}, "1A")` : 평가항목을 기준으로 오름차순
  - 결과로 나오는 뷰를 통해 오름차순 or 내림차순 한다고 보면 됨
#### 4. 4. Min/Max
  - `Min(Sum({상품 A 가산이율}), 1.2)` : 둘중에 작은 값으로
***
## 🔶 룰 템플릿
#### 1. 성능을 고려해서 작성 필요
  - **가벼운 조건을 먼저 수행하도록 작성**
  - 동일항목은 동일열에 두기
***
## 🔶 Question
1. 전체 항목 어떻게 보는지? 항목 보는 갯수 늘려서 보면 됨
2. 서브룰/메인룰의 차이는?
